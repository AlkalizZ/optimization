## 1.减少HTTP请求
### 基本原理
在浏览器(客户端)和服务器发生通信时，就已经消耗了大量的时间，尤其是在网络情况比较糟糕的时候，这个问题尤其的突出。

一个正常HTTP请求的流程简述：如在浏览器中输入"www.xxxxxx.com"并按下回车，浏览器再与这个URL指向的服务器建立连接，然后浏览器才能向服务器发送请求信息，服务器在接受到请求的信息后再返回相应的信息，浏览器接收到来自服务器的应答信息后，对这些数据解释执行。

而当我们请求的网页文件中有很多图片、CSS、JS甚至音乐等信息时，将会频繁的与服务器建立连接，与释放连接，这必定会造成资源的浪费，且每个HTTP请求都会对服务器和浏览器产生性能负担。

网速相同的条件下，下载一个100KB的图片比下载两个50KB的图片要快。所以，请减少HTTP请求。
### 解决办法
合并图片（雪碧图），合并CSS和JS文件；图片较多的页面也可以使用 lazyLoad 等技术进行优化。

## 2.正确理解 Repaint 和 Reflow
Repaint: 重绘

Reflow: 重排

### 基本原理
Repaint(重绘)就是在一个元素的外观被改变，但没有改变布局(宽高)的情况下发生，如改变visibility、outline、背景色等等。

Reflow(重排)就是DOM的变化影响到了元素的几何属性（宽和高），浏览器会重新计算元素的几何属性，会使渲染树中受到影响的部分失效，浏览器会验证DOM树上的所有其它结点的visibility属性，这也是Reflow低效的原因。如：改变窗囗大小、改变文字大小、内容的改变、浏览器窗口变化，style属性的改变等等。如果Reflow的过于频繁，CPU使用率就会噌噌的往上涨，所以前端也就有必要知道 Repaint 和 Reflow的知识。

### 减少性能影响的方法
上面提到通过设置style属性改变结点样式的话，每设置一次都会导致一次reflow，所以最好通过设置class的方式；　有动画效果的元素，它的position属性应当设为fixed或absolute，这样不会影响其它元素的布局；如果功能需求上不能设置position为fixed或absolute，那么就权衡速度的平滑性。

总之，因为 Reflow 有时确实不可避免，所以只能尽可能限制Reflow的影响范围。

## 3.请减少对DOM的操作
### 基本原理
对DOM操作的代价是高昂的，这在网页应用中的通常是一个性能瓶颈。

在《高性能JavaScript》中有这么一句比喻：“把DOM看成一个岛屿，把JavaScript(ECMAScript)看成另一个岛屿，两者之间以一座收费桥连接”。所以每次**访问**DOM都会交过桥费，而访问的次数越多，交的费用也就越多。所以一般建议尽量减少过桥次数。
### 解决方法
1. 修改和访问DOM元素会造成页面的Repaint和Reflow，循环对DOM操作更是罪恶的行为。所以请合理的使用JavaScript变量储存内容，考虑大量DOM元素中循环的性能开销，在循环结束时一次性写入。

2. 减少对DOM元素的查询和修改，查询时可将其赋值给局部变量。

3. 尽可能在DOM末梢通过改变class来修改元素的style属性：尽可能的减少受影响的DOM元素。

4. 避免设置多项内联样式：使用常用的class的方式进行设置样式，以避免设置样式时访问DOM的低效率。

5. 设置动画元素position属性为fixed或者absolute：由于当前元素从DOM流中独立出来，因此受影响的只有当前元素，元素repaint。

6. 牺牲平滑度满足性能：动画精度太强，会造成更多次的repaint/reflow，牺牲精度，能满足性能的损耗，获取性能和平滑度的平衡。

7. 避免使用table进行布局：table的每个元素的大小以及内容的改动，都会导致整个table进行重新计算，造成大幅度的repaint或者reflow。改用div则可以进行针对性的repaint和避免不必要的reflow。

8. 避免在CSS中使用运算式：学习CSS的时候就知道，这个应该避免，不应该加深到这一层再去了解，因为这个的后果确实非常严重，一旦存在动画性的repaint/reflow，那么每一帧动画都会进行计算，性能消耗不容小觑。

9. 如果可能的话，使用速度更快的API，比如querySelectorAll和firstElementChild。

10. 使用事件委托来减少事件处理器的数量

注：在IE中:hover会降低响应速度。

## 4.使用JSON格式来进行数据交换
### 基本原理
JSON是一种轻量级的数据交换格式，采用完全独立于语言的文本格式，是理想的数据交换格式。同时，JSON是 JavaScript原生格式，这意味着在 JavaScript 中处理 JSON数据不需要任何特殊的 API 或工具包。

与XML序列化相比，JSON序列化后产生的数据一般要比XML序列化后数据体积小，所以在Facebook等知名网站中都采用了JSON作为数据交换方式。
### js操作json
在JSON中，有两种结构：对象和数组。

1. 一个对象以 ` { `  开始，` } ` 结束
	
	每个`键`后跟一个 ` : ` 
	
	每个`值`后跟一个 ` ; `
	
	`键/值 对`之间使用 `, `分隔。
	
	键用引号括起来，值如果是字符串则必须用引号括起来，数值型则不需要。如：

	```
	var obj={
		"name":"darren",
		"age":24,
		"location":"beijing"
	}
	```
2. 数组是值（value）的有序集合。

	一个数组以 ` [ ` 开始
	
	` ] ` 结束
	
	值之间使用 ` , ` （逗号）分隔。如：
	
	```	
	var jsonlist=[
		{
			"name":"darren",
			"age":	24,
			"location":"beijing"
		},{
			"name":"weidong.nie",
			"age":24,
			"location":"hunan"
		}
	];
	```
对这种数组和对象字面量的操作是非常方便且高效的。如果预先知道JSON结构的情况下，使用JSON进行数据传递简直是太美妙了，可以写出很实用美观可读性强的代码。如果你是纯粹的前台开发人员，一定会非常喜欢JSON。

## 5.压缩图片和使用图片Sprite技术
> 注：其实压缩图片和图片精灵是两个方面的技术，可是既然都是关于图片的优化还是放到一块吧。

一般图片压缩的方式有：

1. 缩小图片分辨率；

2. 改变图片格式；

3. 降低图片保存质量。

关于图片精灵(Sprite)技术就和我们工作直接相关，不管是在CSS中的图片还是在HTML结构中的图片都会产生HTTP请求，前端优化的第一条就是减少请求数，最直接有效的方法是使用图片精灵（CSS Sprite）。图片精灵就是把许多图片放到一张大图片里面，通过CSS来显示图片的一部分。

## 6.css优化

### 慎重选择高消耗的样式

高消耗属性在绘制前需要浏览器进行大量计算： `box-shadows` `border-radius` `transparency` `transforms` `CSS filters`（性能杀手）

### 正确使用`display`属性
`display` 属性会影响页面的渲染，请合理使用。

* `display: inline`之后 不应该再使用 `width`, `height`, `margin`, `padding` 以及 `float`
* `display: inline-block`之后不应该在用 `float`
* `display: block`之后不应该在用 `vertical-align`
* `display: table-*`之后不应该在用 `margin` 或者 `float`

### 不滥用float
float在渲染时计算量比较大，请尽量减少使用